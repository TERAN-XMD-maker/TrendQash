<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TrendQash Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Moving trust banner */
    .marquee {
      overflow: hidden;
      position: relative;
      background: #111827;
      color: #fff;
    }
    .marquee p {
      display: inline-block;
      white-space: nowrap;
      padding-left: 100%;
      animation: marquee 15s linear infinite;
    }
    @keyframes marquee {
      0%   { transform: translate(0, 0); }
      100% { transform: translate(-100%, 0); }
    }
    .country-card:hover { transform: scale(1.05); transition: 0.3s; }

    /* Canvas-like gradients for earning cards (four variations) */
    .earning-canvas-1 {
      background-image:
        radial-gradient(circle at 10% 10%, rgba(255,255,255,0.08), transparent 8%),
        linear-gradient(135deg, #FFEFBA 0%, #FFFFFF 30%, #FFE7D6 100%);
      box-shadow: 0 8px 20px rgba(8,15,30,0.08);
    }
    .earning-canvas-2 {
      background-image:
        radial-gradient(circle at 90% 10%, rgba(255,255,255,0.06), transparent 8%),
        linear-gradient(135deg, #E0F7FA 0%, #D3F1FF 40%, #E7F9FF 100%);
      box-shadow: 0 8px 20px rgba(8,15,30,0.06);
    }
    .earning-canvas-3 {
      background-image:
        radial-gradient(circle at 20% 80%, rgba(0,0,0,0.03), transparent 8%),
        linear-gradient(135deg, #E6F8EA 0%, #D6F2E4 40%, #CCF0DC 100%);
      box-shadow: 0 8px 20px rgba(8,15,30,0.06);
    }
    .earning-canvas-4 {
      background-image:
        radial-gradient(circle at 80% 80%, rgba(255,255,255,0.05), transparent 8%),
        linear-gradient(135deg, #FFF2F0 0%, #FFE5E0 40%, #FFEAE6 100%);
      box-shadow: 0 8px 20px rgba(8,15,30,0.06);
    }

    /* Task card base */
    .task-card { border-radius:12px; padding:12px; }

    /* Ensure text is readable on canvas - we use slightly darker text */
    .canvas-title { color: #0f172a; font-weight: 700; }
    .canvas-desc { color: rgba(15,23,42,0.85); }

    /* WhatsApp compose canvas */
    .wa-canvas {
      background-image:
        radial-gradient(circle at 10% 10%, rgba(255,255,255,0.03), transparent 8%),
        linear-gradient(135deg, #34D399 0%, #10B981 50%, #059669 100%);
      padding: 14px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(3, 7, 18, 0.12);
      color: white;
    }
    .wa-canvas .wa-input {
      background: rgba(255,255,255,0.98);
      border-radius: 10px;
      padding: 10px;
      border: 0;
      width: 100%;
      box-sizing: border-box;
      color: #071033;
    }
    .wa-canvas .wa-btn {
      background: rgba(255,255,255,0.95);
      color: #047857;
      padding: 10px 14px;
      border-radius: 10px;
      border: 0;
      font-weight: 700;
      cursor: pointer;
    }

    /* Gallery tweaks */
    #gallery img { border-radius: 12px; object-fit: cover; }

    /* Small screens */
    @media (max-width:640px){
      .earning-canvas-1, .earning-canvas-2, .earning-canvas-3, .earning-canvas-4 { padding:12px; }
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

  <!-- Trust Caption -->
  <div class="marquee py-2 text-sm font-semibold">
    <p>Trusted by thousands across Africa 🌍 | Instant Payouts 💸 | Join today and start earning 🚀</p>
  </div>

  <!-- Country Selection Modal -->
  <div id="countryModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
    <div class="bg-white rounded-2xl shadow-xl p-6 max-w-lg w-full">
      <h2 class="text-xl font-bold text-center mb-4">Select Your Country</h2>
      <div class="grid grid-cols-2 gap-4">
        <!-- Countries -->
        <div class="country-card p-4 bg-gray-50 rounded-xl cursor-pointer" data-country="malawi">
          <p class="font-semibold">🇲🇼 Malawi</p>
        </div>
        <div class="country-card p-4 bg-gray-50 rounded-xl cursor-pointer" data-country="botswana">
          <p class="font-semibold">🇧🇼 Botswana</p>
        </div>
        <div class="country-card p-4 bg-gray-50 rounded-xl cursor-pointer" data-country="kenya">
          <p class="font-semibold">🇰🇪 Kenya</p>
        </div>
        <div class="country-card p-4 bg-gray-50 rounded-xl cursor-pointer" data-country="ghana">
          <p class="font-semibold">🇬🇭 Ghana</p>
        </div>
        <div class="country-card p-4 bg-gray-50 rounded-xl cursor-pointer" data-country="uganda">
          <p class="font-semibold">🇺🇬 Uganda</p>
        </div>
      </div>
      <button id="continueBtn" class="mt-6 w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-4 rounded-lg">Continue</button>
    </div>
  </div>

  <!-- Content Wrapper -->
  <main id="content" class="flex-grow p-4 space-y-6"></main>

  
  <!-- ================= PART 2 / 3: Data + JS (selection + rendering) ================= -->
  <script>
    /* ---------- Config: currencies, activation, payouts ---------- */
    const ECON = {
      kenya:   { name: "Kenya",   currency: "KES", activation: 550,   payouts:{ youtube:50, memes:50, tiktok:50, survey:50, ads:50, invite:3000, rank:500, welcome:150 } },
      uganda:  { name: "Uganda",  currency: "UGX", activation: 20000, payouts:{ youtube:1500, memes:1500, tiktok:1500, survey:1500, ads:1500, invite:20000, rank:4000, welcome:5000 } },
      ghana:   { name: "Ghana",   currency: "GHC", activation: 80,    payouts:{ youtube:20, memes:20, tiktok:20, survey:20, ads:20, invite:200,  rank:50,  welcome:20 } },
      botswana:{ name: "Botswana",currency: "BWP", activation: 100,   payouts:{ youtube:40, memes:40, tiktok:40, survey:40, ads:40, invite:400,  rank:100, welcome:30 } },
      malawi:  { name: "Malawi",  currency: "MWK", activation: 12000, payouts:{ youtube:2000, memes:2000, tiktok:2000, survey:2000, ads:2000, invite:6000, rank:1500, welcome:3000 } }
    };

    /* ---------- Country media from your links ---------- */
    const COUNTRY_MEDIA = {
      malawi:   [
        "https://i.postimg.cc/tTcMMCBx/IMG-20250709-WA0014.jpg",
        "https://i.postimg.cc/NMFnDrkt/IMG-20250709-WA0015.jpg"
      ],
      botswana: [
        "https://i.postimg.cc/8cr0QQYn/IMG-20250711-WA0004.jpg",
        "https://i.postimg.cc/t7Qm9vQR/IMG-20250711-WA0026.jpg"
      ],
      kenya:    [
        "https://i.postimg.cc/wjYSzMg5/IMG-20250718-WA0026.jpg",
        "https://i.postimg.cc/qqt9JCNw/IMG-20250819-WA0013.jpg"
      ],
      ghana:    [
        "https://i.postimg.cc/QdgvdDd2/IMG-20250801-WA0025.jpg",
        "https://i.postimg.cc/nL05q17T/IMG-20250816-WA0021.jpg"
      ],
      uganda:   [
        "https://i.postimg.cc/D0tR8ysT/IMG-20250808-WA0018.jpg",
        "https://i.postimg.cc/1z92gdgf/IMG-20250808-WA0019.jpg"
      ]
    };

    /* ---------- Earning methods meta ---------- */
    const METHODS = [
      { key:"youtube", icon:"🎥", title:"Watch YouTube Videos",
        desc:"Watch approved short videos and mark completion. Payouts post-verification." },
      { key:"memes", icon:"😂", title:"Create & Post Memes",
        desc:"Share verified memes. Approved posts earn payouts." },
      { key:"tiktok", icon:"📱", title:"Watch TikTok Clips",
        desc:"Short clips — watch, engage, confirm completion." },
      { key:"survey", icon:"📝", title:"Answer Surveys",
        desc:"Short multiple-choice surveys. Honest answers required." },
      { key:"ads", icon:"📺", title:"Click/Interact Ads",
        desc:"Follow sponsor instructions exactly to qualify." },
      { key:"invite", icon:"👥", title:"Invite Friends (Referrals)",
        desc:"Use your referral link. Bonus after they activate." },
      { key:"rank", icon:"🏆", title:"Agent Ranking & Bonuses",
        desc:"Hit milestones for rank bonuses." },
      { key:"welcome", icon:"🎁", title:"Welcome Bonus",
        desc:"One-time bonus credited after activation." }
    ];

    /* ---------- Utils & State ---------- */
    const $  = (s, r=document) => r.querySelector(s);
    const $all = (s, r=document) => Array.from(r.querySelectorAll(s));
    const fmt = n => (typeof n === 'number') ? n.toLocaleString() : n;

    let selectedCountry = null;

    // highlight selection
    $all('.country-card').forEach(card => {
      card.addEventListener('click', () => {
        selectedCountry = card.dataset.country;
        $all('.country-card').forEach(c => c.classList.remove('ring-2','ring-indigo-500','bg-white'));
        card.classList.add('ring-2','ring-indigo-500','bg-white');
      });
    });

    // Continue button logic
    $('#continueBtn').addEventListener('click', () => {
      if(!selectedCountry){
        alert('Please tap a country first');
        return;
      }
      localStorage.setItem('trend_country', selectedCountry);
      $('#countryModal').classList.add('hidden');
      renderCountry(selectedCountry);
    });

    // Auto-open last selection
    window.addEventListener('load', () => {
      const saved = localStorage.getItem('trend_country');
      if(saved && ECON[saved]){
        selectedCountry = saved;
        $('#countryModal').classList.add('hidden');
        renderCountry(saved);
      }
    });

    /* ---------- Render functions ---------- */
    function renderCountry(key){
      const info = ECON[key];
      const media = COUNTRY_MEDIA[key] || [];
      const content = $('#content');

      // Header + activation
      const headerHTML = `
        <section class="bg-white rounded-2xl shadow p-4 flex items-center justify-between">
          <div>
            <h1 class="text-2xl font-extrabold">TrendQash — ${info.name}</h1>
            <p class="text-sm text-gray-500">Earn in ${info.currency}. Local payouts & calculators below.</p>
          </div>
          <div class="text-right">
            <div class="text-xs text-gray-500">Activation fee</div>
            <div class="font-semibold">${fmt(info.activation)} ${info.currency}</div>
          </div>
        </section>`;

      // Image slider (scroll-snap)
      const galleryHTML = `
        <section class="bg-white rounded-2xl shadow p-4">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-bold">Recent Proof & Updates — ${info.name}</h3>
            <div class="text-xs text-gray-500">Swipe or use arrows</div>
          </div>
          <div class="relative">
            <div id="gallery" class="flex gap-3 overflow-x-auto scroll-smooth snap-x snap-mandatory">
              ${media.map(src => `<img src="${src}" alt="${info.name} update" class="h-44 sm:h-60 w-80 object-cover rounded-xl flex-none snap-start">`).join('')}
            </div>
            <button id="gPrev" class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white px-3 py-2 rounded-full shadow">‹</button>
            <button id="gNext" class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white px-3 py-2 rounded-full shadow">›</button>
          </div>
        </section>`;

      // Earnings container (cards rendered in JS)
      const earnHTML = `<section id="earnHost" class="space-y-4"></section>`;

      // Join + WhatsApp block — WhatsApp area wrapped in wa-canvas
      const joinHTML = `
        <section class="bg-white rounded-2xl shadow p-4">
          <h3 class="text-lg font-bold mb-2">How to Join — ${info.name}</h3>
          <ol class="list-decimal pl-5 text-sm text-gray-600">
            <li>Open the official register link (new tab).</li>
            <li>Pay the activation fee: <strong>${fmt(info.activation)} ${info.currency}</strong>.</li>
            <li>Complete profile, then start tasks & referrals.</li>
          </ol>
          <div class="mt-3 flex gap-2 flex-wrap">
            <a id="joinBtn" class="btn bg-teal-600 text-white hover:bg-teal-700 rounded-full px-4 py-2" target="_blank" rel="noopener noreferrer">👉 Join Now</a>
            <button id="joinCopy" class="btn btn-ghost border rounded-full px-4 py-2">Copy Join Link</button>
          </div>

          <div class="mt-6 wa-canvas">
            <h4 class="font-semibold mb-2">Contact Support via WhatsApp</h4>
            <p class="text-sm mb-2">Type your message then press <em>Send to WhatsApp</em>. It opens WhatsApp with your message ready.</p>
            <textarea id="waMsg" class="wa-input" placeholder="Type your message..."></textarea>
            <div class="mt-3 flex gap-2">
              <button id="waSend" class="wa-btn">Send to WhatsApp</button>
              <button id="waExample" class="wa-btn" style="background: rgba(255,255,255,0.15); color: #fff;">Use Example</button>
            </div>
            <p id="waHint" class="text-xs mt-2" style="color: rgba(255,255,255,0.9)"></p>
          </div>
        </section>`;

      // FAQ + Share
      const extrasHTML = `
        <section class="bg-white rounded-2xl shadow p-4">
          <h4 class="font-bold mb-2">FAQ</h4>
          <div class="text-sm text-gray-600">
            <p><strong>When are payouts processed?</strong><br>Usually weekly after verification (campaign-dependent).</p>
            <p class="mt-3"><strong>Which payment channels are supported?</strong><br>Based on country: M-Pesa / MTN / Airtel / bank transfers.</p>
          </div>
        </section>
        <section class="bg-white rounded-2xl shadow p-4 text-center">
          <h4 class="font-bold mb-2">Share TrendQash</h4>
          <p class="text-sm text-gray-500 mb-3">Help your friends join — sharing increases referral chances.</p>
          <div class="flex justify-center gap-2 flex-wrap">
            <button id="shareWa" class="btn bg-green-600 text-white rounded-full px-4 py-2">Share via WhatsApp</button>
            <button id="shareCopy" class="btn btn-ghost border rounded-full px-4 py-2">Copy Link</button>
          </div>
        </section>`;

      content.innerHTML = headerHTML + galleryHTML + earnHTML + joinHTML + extrasHTML;

      // Wire gallery arrows
      const gallery = $('#gallery');
      if (gallery) {
        $('#gPrev').addEventListener('click', ()=> gallery.scrollBy({left: -gallery.clientWidth, behavior:'smooth'}));
        $('#gNext').addEventListener('click', ()=> gallery.scrollBy({left:  gallery.clientWidth, behavior:'smooth'}));
      }

      // Render earnings cards
      renderEarnings(info);

      // Join + share links
      const joinUrl = 'https://www.trendqash.com/user/register.php?ref=Teranchamp';
      $('#joinBtn').setAttribute('href', joinUrl);
      $('#joinCopy').addEventListener('click', async ()=>{
        try{ await navigator.clipboard.writeText(joinUrl); alert('Join link copied'); }
        catch{ alert('Copy failed — URL: '+joinUrl); }
      });

      $('#shareWa').addEventListener('click', ()=>{
        const text = `Join me on TrendQash (${info.name}). Register here: ${joinUrl}`;
        window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
      });
      $('#shareCopy').addEventListener('click', async ()=>{
        try{ await navigator.clipboard.writeText(joinUrl); alert('Link copied'); }
        catch{ alert('Copy failed — URL: '+joinUrl); }
      });

      // WhatsApp compose defaults
      const def = exampleWa(info);
      const waMsgEl = $('#waMsg');
      if (waMsgEl) {
        waMsgEl.value = def;
        $('#waHint').textContent = 'Example: ' + def;
      }
      $('#waExample').addEventListener('click', ()=> { $('#waMsg').value = def; $('#waMsg').focus(); });
      $('#waSend').addEventListener('click', ()=>{
        const raw = ($('#waMsg').value||'').trim();
        if(!raw){ alert('Please type your message first.'); return; }
        const phone = '254717028877';
        const url = `https://wa.me/${phone}?text=${encodeURIComponent(raw)}`;
        window.open(url, '_blank');
      });
    }

    function renderEarnings(info){
      const host = $('#earnHost');

      // Section header
      const head = document.createElement('section');
      head.className = 'bg-white rounded-2xl shadow p-4';
      head.innerHTML = `<h3 class="text-lg font-bold">Ways of Earning — ${info.name}</h3><p class="text-sm text-gray-500">Each card has a quick calculator.</p>`;
      host.appendChild(head);

      // Grid
      const grid = document.createElement('div');
      grid.className = 'grid gap-4 sm:grid-cols-2';

      // gradient list to cycle through
      const gradientList = ['earning-canvas-1','earning-canvas-2','earning-canvas-3','earning-canvas-4'];

      METHODS.forEach((m, i) => {
        const rate = info.payouts[m.key];
        const gradientClass = gradientList[i % gradientList.length];
        const card = document.createElement('article');
        // use canvas gradient class and readable text colors (canvas-title / canvas-desc)
        card.className = `task-card ${gradientClass} rounded-xl p-3`;
        card.innerHTML = `
          <div class="flex items-start justify-between gap-3">
            <div class="flex items-start gap-3">
              <div class="text-2xl">${m.icon}</div>
              <div>
                <div class="canvas-title">${m.title}</div>
                <div class="text-sm canvas-desc">${m.desc}</div>
              </div>
            </div>
            <div class="text-right">
              <div class="font-semibold canvas-title">${fmt(rate)} ${info.currency}${m.key==='invite'?' (max/day)':''}</div>
              <div class="text-xs canvas-desc">per ${m.key==='invite'?'referral':'item'}</div>
            </div>
          </div>
          ${ m.key==='welcome' ? `
            <div class="text-sm canvas-desc mt-2">One-time reward: <strong>${fmt(rate)} ${info.currency}</strong></div>
          ` : `
            <div class="mt-3 flex items-center gap-2">
              <input type="number" min="0" placeholder="${m.key==='invite'?'Enter invites':'Enter quantity'}" class="calc-input border rounded px-2 py-1 text-sm flex-1" data-method="${m.key}">
              <button class="calc-btn bg-white text-gray-800 rounded-full px-3 py-1 text-sm" data-method="${m.key}">Calculate</button>
            </div>
            <div class="mt-2 text-xs canvas-desc" data-result="${m.key}"></div>
          `}
        `;
        grid.appendChild(card);
      });

      host.appendChild(grid);

      // Instant calc as you type
      grid.addEventListener('input', (e)=>{
        const input = e.target.closest('.calc-input');
        if(!input) return;
        const method = input.dataset.method;
        const qty = Number(input.value||0);
        const rate = info.payouts[method]||0;
        const out = grid.querySelector(`[data-result="${method}"]`);
        if(qty<=0){ out.textContent=''; return; }
        const total = qty*rate;
        out.textContent = `${method==='invite'?'Estimated referral reward':'Estimated payout'}: ${fmt(total)} ${info.currency}.`;
      });

      // Button calc
      grid.addEventListener('click', (e)=>{
        const btn = e.target.closest('.calc-btn');
        if(!btn) return;
        const method = btn.dataset.method;
        const input = grid.querySelector(`.calc-input[data-method="${method}"]`);
        const qty = Number(input?.value||0);
        const rate = info.payouts[method]||0;
        const out = grid.querySelector(`[data-result="${method}"]`);
        if(qty<=0){ out.textContent='Enter a quantity.'; return; }
        const total = qty*rate;
        out.textContent = `${method==='invite'?'Estimated referral reward':'Estimated payout'}: ${fmt(total)} ${info.currency}.`;
      });

      // Example table
      const summary = document.createElement('section');
      summary.className = 'bg-white rounded-2xl shadow p-4';
      summary.innerHTML = `
        <h4 class="font-bold mb-2">Example daily totals (illustrative)</h4>
        <table class="w-full text-sm">
          <thead><tr class="text-left text-gray-500"><th class="py-1">Example</th><th class="py-1">Daily</th></tr></thead>
          <tbody>
            <tr><td class="py-1">10 YouTube videos</td><td class="py-1">${fmt(info.payouts.youtube*10)} ${info.currency}</td></tr>
            <tr><td class="py-1">10 TikTok clips</td><td class="py-1">${fmt(info.payouts.tiktok*10)} ${info.currency}</td></tr>
            <tr><td class="py-1">5 Surveys</td><td class="py-1">${fmt(info.payouts.survey*5)} ${info.currency}</td></tr>
            <tr><td class="py-1">Invite 2 active friends</td><td class="py-1">${fmt(info.payouts.invite*2)} ${info.currency}</td></tr>
          </tbody>
        </table>`;
      host.appendChild(summary);
    }

    function exampleWa(info){
      return `Hi TrendQash, I'm in ${info.name} and want to join. Activation fee is ${fmt(info.activation)} ${info.currency}. Please guide me and confirm payout methods for my country.`;
    }
  </script>

  <!-- ================= PART 3 / 3: Footer & closing tags ================= -->
  <footer class="text-center text-xs text-gray-500 py-6">© TrendQash Agencies — Support: WhatsApp +254717028877</footer>
</main>
</body>
</html>
